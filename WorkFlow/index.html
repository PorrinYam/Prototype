<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIReach工作流程配置系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/task-tracking.css">
    <link rel="stylesheet" href="css/data-analysis.css">
    <link rel="stylesheet" href="css/avatar-styles.css">
    <script src="js/script.js" defer></script>
    <script src="js/workflow.js" defer></script>
    <script src="js/analysis.js" defer></script>
    <script src="js/avatar.js" defer></script>
</head>
<body>
    <div class="app-container">
        <!-- 侧边导航栏 -->
        <div class="sidebar">
            <div class="logo">
                <i class="fas fa-project-diagram"></i>
                <span>AIReach</span>
            </div>
            <ul class="nav-menu">
                <!-- 表单工作流使用场景 -->
                <li class="nav-item active" data-target="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>工作台</span>
                </li>
                <li class="nav-item" data-target="task-tracking">
                    <i class="fas fa-tasks"></i>
                    <span>任务跟踪</span>
                </li>
                <li class="nav-item" data-target="data-analysis">
                    <i class="fas fa-chart-bar"></i>
                    <span>数据分析</span>
                </li>
                <!-- 表单+流程设计场景（仅管理员可见） -->
                <li class="nav-item admin-only" data-target="form-designer">
                    <i class="fas fa-wpforms"></i>
                    <span>表单设计</span>
                </li>
                <li class="nav-item admin-only" data-target="workflow-designer">
                    <i class="fas fa-sitemap"></i>
                    <span>流程设计</span>
                </li>
                <li class="nav-item admin-only" data-target="publish-management">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <span>发布管理</span>
                </li>
            </ul>
            <div class="sidebar-footer">
                <div class="user-info" data-user-id="admin-1">
                    <div class="avatar-with-status">
                        <img src="images/user-avatar-pro.svg" alt="用户头像" class="user-avatar">
                        <div class="status-indicator status-online"></div>
                    </div>
                    <span>管理员</span>
                </div>
                <i class="fas fa-sign-out-alt"></i>
            </div>
        </div>

        <!-- 主内容区域 -->
        <div class="main-content">
            <!-- 顶部导航栏 -->
            <div class="top-bar">
                <div class="page-title">
                    <h1>工作台</h1>
                </div>
                <div class="top-bar-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="搜索...">
                    </div>
                    <div class="notification">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </div>
                    <div class="help">
                        <i class="fas fa-question-circle"></i>
                    </div>
                </div>
            </div>

            <!-- 内容区域 -->
            <div class="content-area">
                <!-- 工作台 -->
                <div class="page-content active" id="dashboard">
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-file-alt"></i></div>
                            <div class="stat-info">
                                <h3>表单</h3>
                                <p>12</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-project-diagram"></i></div>
                            <div class="stat-info">
                                <h3>流程</h3>
                                <p>8</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-clipboard-list"></i></div>
                            <div class="stat-info">
                                <h3>待办任务</h3>
                                <p>5</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                            <div class="stat-info">
                                <h3>已完成</h3>
                                <p>24</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-recent">
                        <div class="recent-section">
                            <div class="section-header">
                                <h2>最近的表单</h2>
                                <a href="#" class="view-all">查看全部</a>
                            </div>
                            <div class="recent-items">
                                <div class="recent-item">
                                    <div class="item-icon"><i class="fas fa-file-alt"></i></div>
                                    <div class="item-info">
                                        <h4>员工入职申请表</h4>
                                        <p>更新于 2023-06-15</p>
                                    </div>
                                    <div class="item-actions">
                                        <button class="btn-icon"><i class="fas fa-edit"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="recent-section">
                            <div class="section-header">
                                <h2>最近的流程</h2>
                                <a href="#" class="view-all">查看全部</a>
                            </div>
                            <div class="recent-items">
                                <div class="recent-item">
                                    <div class="item-icon"><i class="fas fa-project-diagram"></i></div>
                                    <div class="item-info">
                                        <h4>员工入职流程</h4>
                                        <p>更新于 2023-06-12</p>
                                    </div>
                                    <div class="item-actions">
                                        <button class="btn-icon"><i class="fas fa-edit"></i></button>
                                    </div>
                                </div>
                                <div class="recent-item">
                                    <div class="item-icon"><i class="fas fa-project-diagram"></i></div>
                                    <div class="item-info">
                                        <h4>报销审批流程</h4>
                                        <p>更新于 2023-06-08</p>
                                    </div>
                                    <div class="item-actions">
                                        <button class="btn-icon"><i class="fas fa-edit"></i></button>
                                    </div>
                                </div>
                                <div class="recent-item">
                                    <div class="item-icon"><i class="fas fa-project-diagram"></i></div>
                                    <div class="item-info">
                                        <h4>请假审批流程</h4>
                                        <p>更新于 2023-06-01</p>
                                    </div>
                                    <div class="item-actions">
                                        <button class="btn-icon"><i class="fas fa-edit"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 表单设计 -->
                <div class="page-content" id="form-designer">
                    <div class="designer-container">
                        <div class="designer-sidebar">
                            <div class="sidebar-section">
                                <h3>基础组件</h3>
                                <div class="component-list">
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-font"></i>
                                        <span>单行文本</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-align-left"></i>
                                        <span>多行文本</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-check-square"></i>
                                        <span>复选框</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-dot-circle"></i>
                                        <span>单选框</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-list"></i>
                                        <span>下拉选择</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-calendar-alt"></i>
                                        <span>日期选择</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-upload"></i>
                                        <span>文件上传</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="sidebar-section">
                                <h3>高级组件</h3>
                                <div class="component-list">
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-table"></i>
                                        <span>表格</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-calculator"></i>
                                        <span>计算公式</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-signature"></i>
                                        <span>签名</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span>地址</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="designer-canvas">
                            <div class="canvas-header">
                                <input type="text" class="form-title" value="新建表单">
                                <div class="canvas-actions">
                                    <button class="btn-secondary"><i class="fas fa-eye"></i> 预览</button>
                                    <button class="btn-primary"><i class="fas fa-save"></i> 保存</button>
                                </div>
                            </div>
                            <div class="canvas-content">
                                <!-- 表单设计区域 -->
                                <div class="form-placeholder">拖拽左侧组件到此处开始设计表单</div>
                            </div>
                        </div>
                        
                        <div class="designer-properties">
                            <div class="properties-header">
                                <h3>属性设置</h3>
                            </div>
                            <div class="properties-content">
                                <div class="property-group">
                                    <div class="property-item">
                                        <label>字段名称</label>
                                        <input type="text" value="新字段" placeholder="请输入字段名称">
                                    </div>
                                    <div class="property-item">
                                        <label>字段标识</label>
                                        <input type="text" value="field_1" placeholder="字段唯一标识">
                                    </div>
                                    <div class="property-item">
                                        <label>是否必填</label>
                                        <div class="toggle-switch">
                                            <input type="checkbox" id="required-toggle">
                                            <label for="required-toggle"></label>
                                        </div>
                                    </div>
                                    <div class="property-item">
                                        <label>占位提示</label>
                                        <input type="text" value="请输入" placeholder="输入框的提示文字">
                                    </div>
                                    <div class="property-item">
                                        <label>默认值</label>
                                        <input type="text" value="" placeholder="默认值（可选）">
                                    </div>
                                </div>
                                
                                <div class="property-group">
                                    <div class="property-item">
                                        <label>字段验证</label>
                                        <select>
                                            <option value="none">无</option>
                                            <option value="number">数字</option>
                                            <option value="email">邮箱</option>
                                            <option value="phone">手机号</option>
                                            <option value="idcard">身份证</option>
                                        </select>
                                    </div>
                                    <div class="property-item">
                                        <label>验证提示</label>
                                        <input type="text" value="" placeholder="验证失败时的提示信息">
                                    </div>
                                </div>
                                
                                <div class="property-group">
                                    <div class="property-item">
                                        <label>字段描述</label>
                                        <textarea placeholder="对该字段的补充说明（可选）"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 流程设计 -->
                <div class="page-content" id="workflow-designer">
                    <div class="designer-container">
                        <div class="designer-sidebar">
                            <div class="sidebar-section">
                                <h3>流程节点</h3>
                                <div class="component-list">
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-play-circle"></i>
                                        <span>开始节点</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-user-check"></i>
                                        <span>审批节点</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-code-branch"></i>
                                        <span>条件分支</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-tasks"></i>
                                        <span>任务节点</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-check-circle"></i>
                                        <span>结束节点</span>
                                    </div>
                                </div>
                            </div>
                            <div class="sidebar-section">
                                <h3>常用模板</h3>
                                <div class="component-list">
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-clipboard-check"></i>
                                        <span>单级审批</span>
                                    </div>
                                    <div class="component-item" draggable="true">
                                        <i class="fas fa-sitemap"></i>
                                        <span>多级审批</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="designer-canvas">
                            <div class="canvas-header">
                                <input type="text" class="form-title" value="新建流程" placeholder="请输入流程名称">
                                <div class="canvas-actions">
                                    <button class="btn-secondary"><i class="fas fa-eye"></i> 预览</button>
                                    <button class="btn-primary" id="create-workflow"><i class="fas fa-plus"></i> 新建流程</button>
                                    <button class="btn-primary"><i class="fas fa-save"></i> 保存</button>
                                </div>
                            </div>
                            <div class="canvas-content">
                                <!-- 流程设计区域 -->
                                <div class="form-placeholder">拖拽左侧节点到此处开始设计流程</div>
                            </div>
                        </div>
                        
                        <div class="designer-properties">
                            <div class="properties-header">
                                <h3>节点属性</h3>
                            </div>
                            <div class="properties-content">
                                <div class="property-group">
                                    <div class="property-item">
                                        <label>节点名称</label>
                                        <input type="text" value="审批节点" placeholder="请输入节点名称">
                                    </div>
                                    <div class="property-item">
                                        <label>节点类型</label>
                                        <select>
                                            <option value="approval">审批节点</option>
                                            <option value="task">任务节点</option>
                                            <option value="condition">条件节点</option>
                                            <option value="start">开始节点</option>
                                            <option value="end">结束节点</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="property-group">
                                    <div class="property-item">
                                        <label>审批人</label>
                                        <select>
                                            <option value="manager">直属上级</option>
                                            <option value="department">部门经理</option>
                                            <option value="hr">HR</option>
                                            <option value="custom">指定人员</option>
                                        </select>
                                    </div>
                                    <div class="property-item">
                                        <label>审批方式</label>
                                        <select>
                                            <option value="any">任一审批通过</option>
                                            <option value="all">所有人审批通过</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="property-group">
                                    <div class="property-item">
                                        <label>超时设置</label>
                                        <div class="toggle-switch">
                                            <input type="checkbox" id="timeout-toggle">
                                            <label for="timeout-toggle"></label>
                                        </div>
                                    </div>
                                    <div class="property-item">
                                        <label>超时时间(小时)</label>
                                        <input type="text" value="24" placeholder="超时时间">
                                    </div>
                                    <div class="property-item">
                                        <label>超时后操作</label>
                                        <select>
                                            <option value="notify">发送提醒</option>
                                            <option value="transfer">转交他人</option>
                                            <option value="auto-pass">自动通过</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 发布管理 -->
                <div class="page-content" id="publish-management">
                    <!-- 发布管理内容将由JavaScript动态生成 -->
                </div>
                
                <!-- 任务跟踪 -->
                <div class="page-content" id="task-tracking">
                    <!-- 任务跟踪内容将由JavaScript动态生成 -->
                </div>
                
                <!-- 数据分析 -->
                <div class="page-content" id="data-analysis">
                    <div class="analysis-container">
                        <div class="analysis-header">
                            <h2>数据分析</h2>
                            <div class="analysis-filter">
                                <select class="process-filter">
                                    <option value="all">全部流程</option>
                                    <option value="employee">员工入职</option>
                                    <option value="expense">报销申请</option>
                                    <option value="leave">请假申请</option>
                                </select>
                                <div class="date-range">
                                    <input type="date" class="date-start" placeholder="开始日期">
                                    <span>至</span>
                                    <input type="date" class="date-end" placeholder="结束日期">
                                </div>
                                <button class="btn-secondary"><i class="fas fa-search"></i> 筛选</button>
                            </div>
                        </div>
                        
                        <div class="analysis-charts">
                            <div class="chart-row">
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>流程分布</h3>
                                        <button class="btn-export" data-chart="流程分布"><i class="fas fa-download"></i> 导出</button>
                                    </div>
                                    <div class="chart-body" id="process-chart"></div>
                                </div>
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>状态分布</h3>
                                        <button class="btn-export" data-chart="状态分布"><i class="fas fa-download"></i> 导出</button>
                                    </div>
                                    <div class="chart-body" id="status-chart"></div>
                                </div>
                            </div>
                            <div class="chart-row">
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>时间趋势</h3>
                                        <button class="btn-export" data-chart="时间趋势"><i class="fas fa-download"></i> 导出</button>
                                    </div>
                                    <div class="chart-body" id="time-chart"></div>
                                </div>
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>部门分布</h3>
                                        <button class="btn-export" data-chart="部门分布"><i class="fas fa-download"></i> 导出</button>
                                    </div>
                                    <div class="chart-body" id="department-chart"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
